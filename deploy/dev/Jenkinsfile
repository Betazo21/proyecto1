pipeline {
    agent any
    
    tools {
        jdk 'java11'
        maven 'maven392'
    }

    environment{
        REGISTRYLOCATION = "https://www.google.com/"
    }
    
    stages {
            stage('Which Java?') {
                steps {
                    env.JAVA_HOME="${tool 'java11'}"
                    env.PATH="${env.JAVA_HOME}/bin:${env.PATH}"
                    sh 'java --version'
                }
            }
            stage ('Build') {
                steps {
                    env.JAVA_HOME="${tool 'java11'}"
                    env.PATH="${env.JAVA_HOME}/bin:${env.PATH}"
                    sh "echo $JAVA_HOME"
                    sh "mvn clean verify"
                }    
            }
    }
}